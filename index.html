<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
				<!-- jquery -->
				<script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js"></script>
				<!-- bootstrap -->
        <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
				<link type="text/css" rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" />
				<!-- alpaca -->
        <script type="text/javascript" src="node_modules/handlebars/dist/handlebars.js"></script>
				<script type="text/javascript" src="node_modules/alpaca/dist/alpaca/bootstrap/alpaca.min.js"></script>
				<link type="text/css" rel="stylesheet" href="node_modules/alpaca/dist/alpaca/bootstrap/alpaca.min.css" />
				<!-- chart js-->
				<script src="node_modules/chart.js/dist/Chart.js"></script>
				<!-- google icons -->
				<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <!-- TODO get via npm or git submodule -->
				<!-- paperbuzzviz and d3js-->
				<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script> <!-- TODO get via npm or git submodule -->
				<script type="text/javascript" src="lib/paperbuzzviz/example/d3-tip.js"></script>
				<script type="text/javascript" src="lib/paperbuzzviz/paperbuzzviz.js"></script>
				<link rel="stylesheet" type="text/css" href="lib/paperbuzzviz/assets/css/paperbuzzviz.css" />
				<!-- own scripts -->
				<script type="text/javascript" src="js/impact.js"></script>
				<link type="text/css" rel="stylesheet" href="style/style.css">
				<!-- favicon-->
				<link rel="shortcut icon" type="image/png" href="img/favicon.ico"/>
	  </head>
	<body>

		<!-- header -->
	  <div id="header" class="header"></div>

		<!-- main content of the page -->
		<div class="container">

			<!-- input form with examples -->
			<div class="section">
				<div id="form"></div>
				<ul class="list-inline">
					<li><a href="index.html?identifier=10.1371/journal.pone.0165367"> example 1</a></li> <!-- The Effect of Gender in the Publication Patterns in Mathematics -->
					<li><a href="index.html?identifier=10.1103/PhysRevLett.116.241103">example 2</a></li> <!-- GW151226: Observation of Gravitational Waves from a 22-Solar-Mass Binary Black Hole Coalescence -->
					<li><a href="index.html?identifier=10.1038/520429a"> example 3</a></li> <!-- Bibliometrics: The Leiden Manifesto for research metrics -->
					<li><a href="index.html?identifier=10.1073/pnas.1711842115"> example 4</a></li> <!-- The biomass distribution on Earth -->
					<li><a href="index.html?identifier=10.1126/sciadv.1700782"> example 5</a></li> <!-- Production, use, and fate of all plastics ever made -->
				</ul>
			</div>

			<div class="alert alert-warning">
			 This website serves the purpose of demonstrating the functional mechanisms. It is neither a tool for research evaluation, simply because quantitative indicators cannot replace qualitative assessment, nor is it the final product. <a href="indicators">Read more</a>
			</div>

			<!-- customize -->
			<div id="impactviz-customize"></div>

			<!-- results sections -->
			<div id="impactviz-overview"></div>
			<div id="impactviz-details"></div>

		</div>

		<!-- footer -->
		<div id="footer" class="footer"></div>

	<script type="text/javascript">

		// layout
		$("title").text("Visualize your impact");
		$("#header").load("./includes/header.html");
		$("#footer").load("./includes/footer.html");

		// get identifier from url
		let params = new URLSearchParams(location.search);
		let identifier = params.get('identifier');

		// display search form with alpaca.js
		displaySearchForm(identifier);

		// do something with the identifier
		if(identifier != null){

			// display result
			$('#result').css('display', 'block');

			// read customize and indicators from submodules
			var options = {
						customize: './customize/data/data.json',
						indicators: './indicators/data/data.json'
			}

			impact = new ImpactViz(identifier, options);
			impact.initViz();

			}else{
				$('#result').text('Please try again.');
			}

	</script>

	</body>
</html>
